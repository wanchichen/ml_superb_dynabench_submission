# ML-SUPERB 2.0 Interspeech 2024 Challenge Submission Code

This is the starter code for submitting entries to [Dynabench](https://dynabench.org/tasks/ml-superb) for the [ML-SUPERB 2.0 Interspeech 2024 Challenge](https://multilingual.superbbenchmark.org/).
Information and more details about the challenge can be found [here](https://multilingual.superbbenchmark.org/challenge-interspeech2025/challenge_overview).

## Introduction

Participants will upload their API definition and model weights to [Dynabench](https://dynabench.org/tasks/ml-superb), where inference and scoring will be performed automatically. There is a live leaderboard on DynaBench where we display the rankings of submissions. If you have any questions regarding the submission procedure, please ask questions in our Slack workspace.

Importantly, we allow a maximum of three submissions to the leaderboard per day (this may change in the future depending on the server load). Please note that all model checkpoints will be deleted from the evaluation server after inference. We may use the transcriptions generated by the submitted systems for further analyses, but we will not release them without the authors' permission.

## Submission Template

A blank submission template can be found in [submission_template/dynalab-mlsuperb-base](submission_template/dynalab-mlsuperb-base).
An example submission script with ESPnet can be found in [mms_example/dynalab-mlsuperb-base](mms_example/dynalab-mlsuperb-base).

You should place any code you have in the `resources` directory, such that they can be imported by [submission_template/dynalab-mlsuperb-base/app/domain/model.py](submission_template/dynalab-mlsuperb-base/app/domain/model.py).
You can also place your checkpoints here.
For example, lets say you are using a custom version of ESPnet. You can simply copy the code to `resources`.

![image](https://github.com/user-attachments/assets/92711c5c-698e-482d-80d3-6d2463c81f95)


You will need to write and upload a wrapper around your code so that Dynabench knows how to perform inference with your submitted model.

The template for the wrapper can be found in [submission_template/dynalab-mlsuperb-base/app/domain/model.py](submission_template/dynalab-mlsuperb-base/app/domain/model.py).
An example that uses ESPnet to run the MMS baseline can be found in [mms_example/dynalab-mlsuperb-base/app/domain/model.py](mms_example/dynalab-mlsuperb-base/app/domain/model.py).
You will need to fill out the `__init__()` function to import your model code and load your model weights.

![image](https://github.com/user-attachments/assets/70131764-098b-4f92-9e7a-4c13fc1974ce)

You will also need to fill out the `single_inference` function to run your model and return the LID prediction and ASR prediction.
![image](https://github.com/user-attachments/assets/0dd27aaf-6522-4c18-b49b-e2b310c287f7)

We expect the LID prediction to be a string. The value of the string should be an ISO 639-3 language code enclosed in square brackets (e.g., [eng] for English).
The ASR prediction should be a text string. We will uppercase and remove any punctuation during scoring, so you do not need to perform normalization.

```
# Example
pred_lid = '[eng]'
pred_asr = 'i want to go to cranberry lemon university'
```

If you have any dependencies, you should outline them in `requirements.txt`. An example can be found in [mms_example/dynalab-mlsuperb-base/requirements.txt](mms_example/dynalab-mlsuperb-base/requirements.txt ).
Make sure you do NOT remove the existing libraries defined in `requirements.txt`.

## Submission

Once you have filled out the submission template with your code and checkpoints, you can zip up the folder and submit it.
```
zip -r my_submission.zip submission_template
```

Head to the [Dynabench website](https://dynabench.org/). If you haven't already, create an account and login. You will need a Chromium-based browser.

You can submit your model at https://dynabench.org/tasks/ml-superb/uploadModel. Press the upload model button to begin.

![image](https://github.com/user-attachments/assets/8b60e302-4000-4cbb-8c27-c4bf8c2f2df3)

Give your submission a name (this will be displayed publicly) and a description of how it was trained. We also encourage you to write the number of parameters.

![image](https://github.com/user-attachments/assets/9640f902-e4c9-4838-a5dd-03ea6d4edbae)

Choose the zipped file from the file explorer. Once you press the submit button, the upload will begin and you will receive a confirmation email.

We anticipate inference to take anywhere from 6 to 24 hours, depending on your model size. For our MMS baseline, it took approximately 12 hours. If you have any questions or concerns regarding your submission status, please send a message in our slack channel.
